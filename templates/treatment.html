<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treatment Information and Resources</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet" />
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">DR and DME Prediction</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/' %}active{% endif %}" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/about' %}active{% endif %}" href="/about">About DR and DME</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-5 mb-5">
        <h1 class="mb-4 text-center">Treatment Information and Resources</h1>

        <!-- Section 1: Understanding DR and DME -->
        <section class="mb-5">
            <h2 class="mb-3">Understanding Diabetic Retinopathy and DME</h2>
            <p>
                Diabetic Retinopathy (DR) and Diabetic Macular Edema (DME) are complications of diabetes that affect the retina and can lead to vision loss. Early detection and timely intervention are critical for preventing blindness. Explore the resources below for guidance on diagnosis, treatment, and management.
            </p>
        </section>

        <!-- Section 2: Treatment Options -->
        <section class="mb-5">
            <h2 class="mb-3">Treatment Options</h2>
            <ul class="list-group">
                <li class="list-group-item">
                    <h5>Laser Photocoagulation</h5>
                    <p>
                        A laser treatment to seal leaking blood vessels or shrink abnormal ones, helping slow disease progression.
                    </p>
                    <a href="https://www.aao.org/eye-health/treatments/laser-photocoagulation" target="_blank">Learn more</a>
                </li>
                <li class="list-group-item">
                    <h5>Intravitreal Injections (Anti-VEGF)</h5>
                    <p>
                        Anti-VEGF drugs such as Avastin, Lucentis, and Eylea help reduce retinal swelling and inhibit abnormal blood vessel growth.
                    </p>
                    <a href="https://www.fda.gov/consumers/consumer-updates/anti-vegf-treatments-diabetic-retinopathy" target="_blank">Learn more</a>
                </li>
                <li class="list-group-item">
                    <h5>Vitrectomy</h5>
                    <p>
                        A surgical procedure to remove scar tissue and blood from the retina to restore vision in advanced cases.
                    </p>
                    <a href="https://www.mayoclinic.org/tests-procedures/vitrectomy/about/pac-20384974" target="_blank">Learn more</a>
                </li>
            </ul>
        </section>

        <!-- Section 3: Hospitals Specializing in Retinal Diseases -->
        <section class="mb-5">
            <h2 class="mb-3">Hospitals Specializing in Retinal Diseases</h2>
            <p>These hospitals in India are renowned for their expertise in treating DR and DME:</p>
            <ul class="list-group">
                <li class="list-group-item">
                    <h5>Sankara Nethralaya, Chennai</h5>
                    <a href="https://www.sankaranethralaya.org/" target="_blank">Visit Sankara Nethralaya</a>
                </li>
                <li class="list-group-item">
                    <h5>LV Prasad Eye Institute, Hyderabad</h5>
                    <a href="https://www.lvpei.org/" target="_blank">Visit LV Prasad Eye Institute</a>
                </li>
                <li class="list-group-item">
                    <h5>All India Institute of Medical Sciences (AIIMS), New Delhi</h5>
                    <a href="https://www.aiims.edu/en/departments-and-centers/ophthalmology.html" target="_blank">Visit AIIMS Ophthalmology</a>
                </li>
                <li class="list-group-item">
                    <h5>Narayana Nethralaya, Bangalore</h5>
                    <a href="https://www.narayananethralaya.org/" target="_blank">Visit Narayana Nethralaya</a>
                </li>
                <li class="list-group-item">
                    <h5>ASG Eye Hospital, Jodhpur</h5>
                    <a href="https://www.asgeyehospital.com/" target="_blank">Visit ASG Eye Hospital</a>
                </li>
            </ul>
        </section>

        <!-- Section 4: Helplines and Support -->
        <section class="mb-5">
            <h2 class="mb-3">Helplines and Support</h2>
            <ul class="list-group">
                <li class="list-group-item">
                    <h5>National Programme for Control of Blindness & Visual Impairment (NPCBVI)</h5>
                    <a href="https://npcbvi.gov.in/" target="_blank">Visit NPCBVI</a>
                </li>
                <li class="list-group-item">
                    <h5>All India Ophthalmological Society (AIOS)</h5>
                    <a href="https://www.aios.org/" target="_blank">Visit AIOS</a>
                </li>
            </ul>
        </section>

        <!-- Section 5: Research and Guidelines -->
        <section class="mb-5">
            <h2 class="mb-3">Research and Guidelines</h2>
            <ul class="list-group">
                <li class="list-group-item">
                    <h5>Guidelines for Comprehensive Management of DR</h5>
                    <a href="https://www.iapb.org/wp-content/uploads/2020/12/Guidelines-for-the-Comprehensive-Management-of-DR-in-India.pdf" target="_blank">View Guidelines</a>
                </li>
                <li class="list-group-item">
                    <h5>Mayo Clinic: Diagnosis and Treatment</h5>
                    <a href="https://www.mayoclinic.org/diseases-conditions/diabetic-retinopathy/diagnosis-treatment/drc-20371617" target="_blank">Learn more</a>
                </li>
            </ul>
        </section>

        <!-- Section 6: Interactive Map -->
        <section>
            <h2 class="mb-3">Find a Hospital Near You</h2>
            <div id="map" style="height: 400px; width: 100%;"></div>
        </section>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Map API (e.g., Google Maps) -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJ79NQegKa4puwU4vyNwX36_SOBVjlE4o&callback=initMap" async defer></script>
    <script>
        // Array of hospitals with their details
        const hospitals = [
            {
                name: "Sankara Nethralaya, Chennai",
                description: "Renowned for advanced eye care and retinal treatments.",
                lat: 13.0631,
                lng: 80.2445,
                icon: "https://maps.google.com/mapfiles/ms/icons/blue-dot.png", // Custom icon
            },
            {
                name: "LV Prasad Eye Institute, Hyderabad",
                description: "World-class eye care and research center.",
                lat: 17.4126,
                lng: 78.4395,
                icon: "https://maps.google.com/mapfiles/ms/icons/red-dot.png",
            },
            {
                name: "AIIMS Ophthalmology Department, New Delhi",
                description: "India's leading institute for retinal research.",
                lat: 28.5672,
                lng: 77.2100,
                icon: "https://maps.google.com/mapfiles/ms/icons/green-dot.png",
            },
            {
                name: "Narayana Nethralaya, Bangalore",
                description: "Super-specialty eye hospital with a dedicated retina department.",
                lat: 12.9716,
                lng: 77.5946,
                icon: "https://maps.google.com/mapfiles/ms/icons/yellow-dot.png",
            },
            {
                name: "ASG Eye Hospital, Jodhpur",
                description: "Expert treatment for diabetic retinopathy.",
                lat: 26.2389,
                lng: 73.0243,
                icon: "https://maps.google.com/mapfiles/ms/icons/purple-dot.png",
            },
        ];
    
        // Initialize the map and add markers
        function initMap() {
            const map = new google.maps.Map(document.getElementById("map"), {
                center: { lat: 20.5937, lng: 78.9629 }, // Centered on India
                zoom: 5,
            });
    
            // Loop through the hospitals array and create customized markers
            hospitals.forEach((hospital) => {
                const marker = new google.maps.Marker({
                    position: { lat: hospital.lat, lng: hospital.lng },
                    map: map,
                    title: hospital.name, // Tooltip on hover
                    icon: hospital.icon, // Custom icon for the marker
                    animation: google.maps.Animation.DROP, // Drop animation
                });
    
                // Create a styled InfoWindow for each marker
                const infoWindow = new google.maps.InfoWindow({
                    content: `
                        <div style="font-family: 'Poppins', sans-serif; max-width: 250px;">
                            <h5 style="margin: 0; color: #333;">${hospital.name}</h5>
                            <p style="margin: 0; color: #555;">${hospital.description}</p>
                        </div>
                    `,
                });
    
                // Add a click event listener to show the InfoWindow when a marker is clicked
                marker.addListener("click", () => {
                    infoWindow.open(map, marker);
                });
    
                // Add a hover effect to change marker icon on mouseover
                marker.addListener("mouseover", () => {
                    marker.setIcon("https://maps.google.com/mapfiles/ms/icons/orange-dot.png"); // Highlight icon
                });
    
                marker.addListener("mouseout", () => {
                    marker.setIcon(hospital.icon); // Revert to original icon
                });
            });
        }
    </script>
    
    
</body>
</html>
